<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Job Notification Tracker — Precision-matched job discovery delivered daily. Built on KodNest Premium Design System."
    />
    <title>Job Notification Tracker — KodNest</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@400;700&display=swap"
      rel="stylesheet"
    />

    <!-- Design System -->
    <link rel="stylesheet" href="index.css" />
  </head>

  <body>
    <div class="app-shell">
      <!-- ============================================ -->
      <!-- TOP BAR                                      -->
      <!-- ============================================ -->
      <header class="top-bar">
        <a href="#/" class="top-bar__project" id="logoLink"
          >Job Notification Tracker</a
        >

        <!-- Hamburger (mobile only) -->
        <button
          class="hamburger-btn"
          id="hamburgerBtn"
          aria-label="Toggle navigation"
          aria-expanded="false"
        >
          <span class="hamburger-btn__icon" id="hamburgerIcon">&#9776;</span>
        </button>

        <!-- Navigation -->
        <nav class="nav-bar" id="navBar">
          <div class="nav-bar__links" id="navLinks">
            <a href="#/dashboard" data-route="dashboard" class="nav-link"
              >Dashboard</a
            >
            <a href="#/saved" data-route="saved" class="nav-link">Saved</a>
            <a href="#/digest" data-route="digest" class="nav-link">Digest</a>
            <a href="#/settings" data-route="settings" class="nav-link"
              >Settings</a
            >
            <a href="#/proof" data-route="proof" class="nav-link">Proof</a>
          </div>
        </nav>
      </header>

      <!-- ============================================ -->
      <!-- ROUTE PAGES                                  -->
      <!-- ============================================ -->
      <main class="route-container">
        <!-- ──── LANDING PAGE (/) ──── -->
        <section
          class="route-page route-page--landing"
          id="route-landing"
          data-route-page="landing"
        >
          <div class="hero">
            <div class="hero__badge">Precision Job Discovery</div>
            <h1 class="hero__headline">Stop Missing<br />The Right Jobs.</h1>
            <p class="hero__subtext">
              Precision-matched job discovery delivered daily at 9AM.<br />
              Filter noise. Surface signal. Land the role that fits.
            </p>
            <a href="#/settings" class="btn btn-primary hero__cta" id="ctaBtn">
              Start Tracking
              <span class="hero__cta-arrow">&rarr;</span>
            </a>
            <p class="hero__footnote">No spam. No noise. Just clarity.</p>
          </div>
        </section>

        <!-- ──── DASHBOARD ──── -->
        <section
          class="route-page"
          id="route-dashboard"
          data-route-page="dashboard"
        >
          <div class="page-shell page-shell--wide">
            <div class="page-header">
              <h1>Dashboard</h1>
              <p class="subtext">Your matched jobs, reviewed and ready.</p>
            </div>

            <!-- Preferences Banner (shown when no prefs saved) -->
            <div class="prefs-banner" id="prefsBanner" style="display: none">
              <svg width="20" height="20" fill="none" viewBox="0 0 20 20">
                <circle
                  cx="10"
                  cy="10"
                  r="8.5"
                  stroke="currentColor"
                  stroke-width="1.5"
                />
                <path
                  d="M10 6v5m0 3v.01"
                  stroke="currentColor"
                  stroke-width="1.5"
                  stroke-linecap="round"
                />
              </svg>
              <span
                >Set your <a href="#/settings">preferences</a> to activate
                intelligent matching.</span
              >
            </div>

            <!-- Filter Bar -->
            <div class="filter-bar" id="filterBar">
              <div class="filter-bar__search">
                <svg
                  class="filter-bar__search-icon"
                  width="16"
                  height="16"
                  viewBox="0 0 16 16"
                  fill="none"
                >
                  <circle
                    cx="7"
                    cy="7"
                    r="5.5"
                    stroke="currentColor"
                    stroke-width="1.5"
                  />
                  <path
                    d="M11.5 11.5L14.5 14.5"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                  />
                </svg>
                <input
                  type="text"
                  id="filterKeyword"
                  class="filter-bar__input"
                  placeholder="Search by title or company…"
                />
              </div>
              <select id="filterLocation" class="filter-bar__select">
                <option value="">All Locations</option>
                <option value="Bangalore">Bangalore</option>
                <option value="Chennai">Chennai</option>
                <option value="Hyderabad">Hyderabad</option>
                <option value="Mumbai">Mumbai</option>
                <option value="Pune">Pune</option>
                <option value="Noida">Noida</option>
                <option value="Mysuru">Mysuru</option>
              </select>
              <select id="filterMode" class="filter-bar__select">
                <option value="">All Modes</option>
                <option value="Remote">Remote</option>
                <option value="Hybrid">Hybrid</option>
                <option value="Onsite">Onsite</option>
              </select>
              <select id="filterExperience" class="filter-bar__select">
                <option value="">All Experience</option>
                <option value="Fresher">Fresher</option>
                <option value="0-1">0–1 years</option>
                <option value="1-3">1–3 years</option>
                <option value="3-5">3–5 years</option>
              </select>
              <select id="filterSource" class="filter-bar__select">
                <option value="">All Sources</option>
                <option value="LinkedIn">LinkedIn</option>
                <option value="Naukri">Naukri</option>
                <option value="Indeed">Indeed</option>
              </select>
              <select id="filterStatus" class="filter-bar__select">
                <option value="">All Statuses</option>
                <option value="Not Applied">Not Applied</option>
                <option value="Applied">Applied</option>
                <option value="Rejected">Rejected</option>
                <option value="Selected">Selected</option>
              </select>
              <select id="filterSort" class="filter-bar__select">
                <option value="latest">Latest First</option>
                <option value="match-score">Match Score</option>
                <option value="oldest">Oldest First</option>
                <option value="salary-high">Salary: High → Low</option>
                <option value="salary-low">Salary: Low → High</option>
              </select>
              <label
                class="match-toggle"
                id="matchToggleWrap"
                style="display: none"
              >
                <input type="checkbox" id="matchToggle" />
                <span class="match-toggle__track">
                  <span class="match-toggle__thumb"></span>
                </span>
                <span class="match-toggle__label">Above threshold only</span>
              </label>
            </div>

            <!-- Results count -->
            <div class="results-meta" id="resultsMeta"></div>

            <!-- Job Cards Grid -->
            <div class="job-grid" id="jobGrid">
              <!-- Cards rendered by JS -->
            </div>

            <!-- Empty state (hidden when jobs exist) -->
            <div class="empty-state" id="dashboardEmpty" style="display: none">
              <div class="empty-state__icon">
                <svg width="48" height="48" fill="none" viewBox="0 0 48 48">
                  <circle
                    cx="24"
                    cy="20"
                    r="12"
                    stroke="currentColor"
                    stroke-width="2"
                  />
                  <path
                    d="M16 36c0-4.4 3.6-8 8-8s8 3.6 8 8"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                  />
                </svg>
              </div>
              <h3 class="empty-state__title">No matching jobs</h3>
              <p class="empty-state__body">
                Try adjusting your filters to see more results.
              </p>
            </div>
          </div>
        </section>

        <!-- ──── SAVED ──── -->
        <section class="route-page" id="route-saved" data-route-page="saved">
          <div class="page-shell page-shell--wide">
            <div class="page-header">
              <div class="page-header__row">
                <div>
                  <h1>Saved Jobs</h1>
                  <p class="subtext">Bookmarked roles you want to revisit.</p>
                </div>
                <button
                  class="btn btn-ghost btn-sm"
                  id="clearSavedBtn"
                  style="display: none"
                >
                  Clear All
                </button>
              </div>
            </div>

            <!-- Saved Job Cards Grid -->
            <div class="job-grid" id="savedGrid">
              <!-- Cards rendered by JS -->
            </div>

            <!-- Empty state -->
            <div class="empty-state" id="savedEmpty">
              <div class="empty-state__icon">
                <svg width="48" height="48" fill="none" viewBox="0 0 48 48">
                  <path
                    d="M14 8h20a2 2 0 0 1 2 2v30l-12-8-12 8V10a2 2 0 0 1 2-2z"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linejoin="round"
                  />
                </svg>
              </div>
              <h3 class="empty-state__title">Nothing saved yet</h3>
              <p class="empty-state__body">
                When you find a role worth revisiting, save it here.<br />Your
                shortlist stays clean and focused.
              </p>
            </div>
          </div>
        </section>

        <!-- ──── DIGEST ──── -->
        <section class="route-page" id="route-digest" data-route-page="digest">
          <div class="page-shell page-shell--narrow">
            <div class="page-header">
              <h1>Daily Digest</h1>
              <p class="subtext">
                Your 9 AM briefing — curated, never cluttered.
              </p>
            </div>

            <!-- No-Preferences Blocking State -->
            <div class="digest-block" id="digestNoPrefs" style="display: none">
              <div class="empty-state">
                <div class="empty-state__icon">
                  <svg width="48" height="48" fill="none" viewBox="0 0 48 48">
                    <circle
                      cx="24"
                      cy="24"
                      r="16"
                      stroke="currentColor"
                      stroke-width="2"
                    />
                    <path
                      d="M24 14v10l7 4"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                </div>
                <h3 class="empty-state__title">
                  Set preferences to generate a personalized digest.
                </h3>
                <p class="empty-state__body">
                  Head to
                  <a
                    href="#/settings"
                    style="color: var(--color-accent); font-weight: 600"
                    >Settings</a
                  >
                  and configure your role keywords, locations, and skills first.
                </p>
              </div>
            </div>

            <!-- Generate Button -->
            <div
              class="digest-generate"
              id="digestGenerate"
              style="display: none"
            >
              <button class="btn btn-primary" id="generateDigestBtn">
                <svg
                  width="18"
                  height="18"
                  fill="none"
                  viewBox="0 0 18 18"
                  style="margin-right: 6px"
                >
                  <circle
                    cx="9"
                    cy="9"
                    r="7"
                    stroke="currentColor"
                    stroke-width="1.5"
                  />
                  <path
                    d="M9 5v4l3 2"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
                Generate Today's 9AM Digest (Simulated)
              </button>
              <p class="digest-sim-note">
                Demo Mode: Daily 9AM trigger simulated manually.
              </p>
            </div>

            <!-- Digest Email Card -->
            <div class="digest-card" id="digestCard" style="display: none">
              <div class="digest-card__header">
                <h2 class="digest-card__title">
                  Top 10 Jobs For You — 9AM Digest
                </h2>
                <p class="digest-card__date" id="digestDate"></p>
              </div>

              <div class="digest-card__body" id="digestBody">
                <!-- Digest job rows rendered by JS -->
              </div>

              <div class="digest-card__footer">
                <p>This digest was generated based on your preferences.</p>
                <p class="digest-sim-note" style="margin-top: 8px">
                  Demo Mode: Daily 9AM trigger simulated manually.
                </p>
              </div>

              <!-- Action Buttons -->
              <div class="digest-actions">
                <button class="btn btn-ghost btn-sm" id="copyDigestBtn">
                  <svg
                    width="14"
                    height="14"
                    fill="none"
                    viewBox="0 0 14 14"
                    style="margin-right: 4px"
                  >
                    <rect
                      x="4"
                      y="4"
                      width="8"
                      height="8"
                      rx="1.5"
                      stroke="currentColor"
                      stroke-width="1.3"
                    />
                    <path
                      d="M10 4V2.5A1.5 1.5 0 0 0 8.5 1h-6A1.5 1.5 0 0 0 1 2.5v6A1.5 1.5 0 0 0 2.5 10H4"
                      stroke="currentColor"
                      stroke-width="1.3"
                    />
                  </svg>
                  Copy Digest to Clipboard
                </button>
                <button class="btn btn-ghost btn-sm" id="emailDigestBtn">
                  <svg
                    width="14"
                    height="14"
                    fill="none"
                    viewBox="0 0 14 14"
                    style="margin-right: 4px"
                  >
                    <rect
                      x="1"
                      y="3"
                      width="12"
                      height="8"
                      rx="1.5"
                      stroke="currentColor"
                      stroke-width="1.3"
                    />
                    <path
                      d="M1 4l6 4 6-4"
                      stroke="currentColor"
                      stroke-width="1.3"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                  Create Email Draft
                </button>
              </div>
            </div>

            <!-- Recent Status Updates Section -->
            <div
              class="digest-block"
              id="digestRecentUpdates"
              style="display: none"
            >
              <div style="padding: 0 var(--space-md)">
                <h3
                  style="
                    font-family: var(--font-heading);
                    font-size: var(--text-md);
                    font-weight: 700;
                    margin-bottom: var(--space-sm);
                    color: var(--color-text);
                  "
                >
                  Recent Status Updates
                </h3>
                <div
                  id="digestStatusUpdatesList"
                  style="
                    display: flex;
                    flex-direction: column;
                    gap: var(--space-sm);
                  "
                >
                  <!-- Status updates rendered by JS -->
                </div>
              </div>
            </div>

            <!-- No-Matches State (shown after generation when 0 matches) -->
            <div
              class="digest-block"
              id="digestNoMatches"
              style="display: none"
            >
              <div class="empty-state">
                <div class="empty-state__icon">
                  <svg width="48" height="48" fill="none" viewBox="0 0 48 48">
                    <circle
                      cx="24"
                      cy="24"
                      r="16"
                      stroke="currentColor"
                      stroke-width="2"
                    />
                    <path
                      d="M18 28s2.5-4 6-4 6 4 6 4"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                    />
                    <circle cx="18" cy="20" r="1.5" fill="currentColor" />
                    <circle cx="30" cy="20" r="1.5" fill="currentColor" />
                  </svg>
                </div>
                <h3 class="empty-state__title">No matching roles today.</h3>
                <p class="empty-state__body">
                  Check again tomorrow or adjust your preferences for broader
                  coverage.
                </p>
              </div>
            </div>
          </div>
        </section>

        <!-- ──── SETTINGS ──── -->
        <section
          class="route-page"
          id="route-settings"
          data-route-page="settings"
        >
          <div class="page-shell page-shell--narrow">
            <div class="page-header">
              <h1>Tracking Preferences</h1>
              <p class="subtext">
                Tell us what you're looking for. We'll handle the rest.
              </p>
            </div>

            <form
              class="settings-form"
              id="settingsForm"
              onsubmit="return false;"
            >
              <div class="form-section">
                <div class="input-group">
                  <label for="roleKeywords">Role Keywords</label>
                  <input
                    type="text"
                    id="roleKeywords"
                    class="input"
                    placeholder="e.g. Frontend Engineer, React Developer, UI Architect"
                  />
                  <span class="input-hint"
                    >Comma-separated. We'll match titles, descriptions, and
                    tags.</span
                  >
                </div>
              </div>

              <div class="form-section">
                <div class="input-group">
                  <label>Preferred Locations</label>
                  <div class="checkbox-group" id="locationCheckboxes">
                    <label class="checkbox-label"
                      ><input
                        type="checkbox"
                        name="prefLocation"
                        value="Bangalore"
                      /><span class="checkbox-custom"></span
                      ><span>Bangalore</span></label
                    >
                    <label class="checkbox-label"
                      ><input
                        type="checkbox"
                        name="prefLocation"
                        value="Chennai"
                      /><span class="checkbox-custom"></span
                      ><span>Chennai</span></label
                    >
                    <label class="checkbox-label"
                      ><input
                        type="checkbox"
                        name="prefLocation"
                        value="Hyderabad"
                      /><span class="checkbox-custom"></span
                      ><span>Hyderabad</span></label
                    >
                    <label class="checkbox-label"
                      ><input
                        type="checkbox"
                        name="prefLocation"
                        value="Mumbai"
                      /><span class="checkbox-custom"></span
                      ><span>Mumbai</span></label
                    >
                    <label class="checkbox-label"
                      ><input
                        type="checkbox"
                        name="prefLocation"
                        value="Pune"
                      /><span class="checkbox-custom"></span
                      ><span>Pune</span></label
                    >
                    <label class="checkbox-label"
                      ><input
                        type="checkbox"
                        name="prefLocation"
                        value="Noida"
                      /><span class="checkbox-custom"></span
                      ><span>Noida</span></label
                    >
                    <label class="checkbox-label"
                      ><input
                        type="checkbox"
                        name="prefLocation"
                        value="Mysuru"
                      /><span class="checkbox-custom"></span
                      ><span>Mysuru</span></label
                    >
                  </div>
                  <span class="input-hint"
                    >Select cities you'd work in. Leave unchecked for all.</span
                  >
                </div>
              </div>

              <div class="form-section">
                <div class="input-group">
                  <label>Work Mode</label>
                  <div class="checkbox-group" id="modeCheckboxes">
                    <label class="checkbox-label"
                      ><input
                        type="checkbox"
                        name="prefMode"
                        value="Remote"
                      /><span class="checkbox-custom"></span
                      ><span>Remote</span></label
                    >
                    <label class="checkbox-label"
                      ><input
                        type="checkbox"
                        name="prefMode"
                        value="Hybrid"
                      /><span class="checkbox-custom"></span
                      ><span>Hybrid</span></label
                    >
                    <label class="checkbox-label"
                      ><input
                        type="checkbox"
                        name="prefMode"
                        value="Onsite"
                      /><span class="checkbox-custom"></span
                      ><span>On-site</span></label
                    >
                  </div>
                  <span class="input-hint"
                    >Check all that apply. Leave unchecked for any mode.</span
                  >
                </div>
              </div>

              <div class="form-section">
                <div class="input-group">
                  <label for="experienceLevel">Experience Level</label>
                  <select id="experienceLevel" class="input select">
                    <option value="" disabled selected>
                      Select your level
                    </option>
                    <option value="intern">Intern / Fresher</option>
                    <option value="junior">Junior (0–2 years)</option>
                    <option value="mid">Mid-level (2–5 years)</option>
                    <option value="senior">Senior (5–8 years)</option>
                    <option value="lead">Lead / Staff (8+ years)</option>
                  </select>
                </div>
              </div>

              <div class="form-section">
                <div class="input-group">
                  <label for="prefSkills">Skills</label>
                  <input
                    type="text"
                    id="prefSkills"
                    class="input"
                    placeholder="e.g. React, JavaScript, TypeScript, Node.js"
                  />
                  <span class="input-hint"
                    >Comma-separated. We'll match against job skill tags.</span
                  >
                </div>
              </div>

              <div class="form-section">
                <div class="input-group">
                  <label for="minMatchScore">Minimum Match Score</label>
                  <div class="slider-row">
                    <input
                      type="range"
                      id="minMatchScore"
                      class="range-slider"
                      min="0"
                      max="100"
                      value="40"
                    />
                    <span class="slider-value" id="sliderValue">40</span>
                  </div>
                  <span class="input-hint"
                    >Jobs below this score are hidden when the threshold toggle
                    is on.</span
                  >
                </div>
              </div>

              <div class="form-actions">
                <button type="submit" class="btn btn-primary" id="savePrefsBtn">
                  Save Preferences
                </button>
                <button type="button" class="btn btn-ghost" id="clearPrefsBtn">
                  Clear Preferences
                </button>
              </div>
            </form>
          </div>
        </section>

        <!-- ──── PROOF ──── -->
        <section class="route-page" id="route-proof" data-route-page="proof">
          <div class="page-shell">
            <div class="page-header">
              <h1>Proof of Work</h1>
              <p class="subtext">
                Artifacts demonstrating what was built, tested, and shipped.
              </p>
            </div>
            <div class="proof-grid">
              <div class="proof-card">
                <div class="proof-card__icon">
                  <svg width="28" height="28" fill="none" viewBox="0 0 28 28">
                    <rect
                      x="3"
                      y="3"
                      width="22"
                      height="22"
                      rx="3"
                      stroke="currentColor"
                      stroke-width="1.5"
                    />
                    <path
                      d="M8 14l4 4 8-8"
                      stroke="currentColor"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                </div>
                <h4>UI Built</h4>
                <p class="text-sm text-muted">
                  Design system, navigation, and page layouts verified.
                </p>
              </div>
              <div class="proof-card">
                <div class="proof-card__icon">
                  <svg width="28" height="28" fill="none" viewBox="0 0 28 28">
                    <circle
                      cx="14"
                      cy="14"
                      r="11"
                      stroke="currentColor"
                      stroke-width="1.5"
                    />
                    <path
                      d="M14 8v6l4 2"
                      stroke="currentColor"
                      stroke-width="1.5"
                      stroke-linecap="round"
                    />
                  </svg>
                </div>
                <h4>Data Loaded</h4>
                <p class="text-sm text-muted">
                  60 realistic Indian tech jobs rendered with filters.
                </p>
              </div>
              <div class="proof-card">
                <div class="proof-card__icon">
                  <svg width="28" height="28" fill="none" viewBox="0 0 28 28">
                    <path
                      d="M4 22l6-6m0 0l4-10 4 10m-8 0h8"
                      stroke="currentColor"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                </div>
                <h4>Tests Pending</h4>
                <p class="text-sm text-muted">
                  Test coverage will follow once core logic is complete.
                </p>
              </div>
              <div class="proof-card">
                <div class="proof-card__icon">
                  <svg width="28" height="28" fill="none" viewBox="0 0 28 28">
                    <path
                      d="M14 4v4m0 16v-4m10-6h-4M8 14H4m17.07-7.07l-2.83 2.83M11.76 16.24l-2.83 2.83m14.14 0l-2.83-2.83M11.76 11.76L8.93 8.93"
                      stroke="currentColor"
                      stroke-width="1.5"
                      stroke-linecap="round"
                    />
                  </svg>
                </div>
                <h4>Deploy Pending</h4>
                <p class="text-sm text-muted">
                  Deployment pipeline will be configured after verification.
                </p>
              </div>
            </div>
          </div>
        </section>

        <!-- ──── 404 — Not Found ──── -->
        <section
          class="route-page route-page--not-found"
          id="route-not-found"
          data-route-page="not-found"
        >
          <div class="not-found__icon">&#128683;</div>
          <h1>Page Not Found</h1>
          <p class="subtext">
            The route you requested doesn&rsquo;t exist. Choose a section from
            the navigation above.
          </p>
          <a
            href="#/dashboard"
            class="btn btn-primary"
            style="margin-top: var(--space-md)"
            >Back to Dashboard</a
          >
        </section>
      </main>
    </div>

    <!-- ============================================ -->
    <!-- JOB DETAIL MODAL                             -->
    <!-- ============================================ -->
    <div class="modal-overlay" id="jobModal">
      <div
        class="modal"
        role="dialog"
        aria-modal="true"
        aria-labelledby="modalTitle"
      >
        <div class="modal__header">
          <h2 id="modalTitle" class="modal__title"></h2>
          <button
            class="modal__close"
            id="modalCloseBtn"
            aria-label="Close modal"
          >
            &times;
          </button>
        </div>
        <div class="modal__body">
          <div class="modal__meta" id="modalMeta"></div>
          <div class="modal__description" id="modalDescription"></div>
          <div class="modal__skills" id="modalSkills"></div>
        </div>
        <div class="modal__footer" id="modalFooter"></div>
      </div>
    </div>

    <!-- Toast -->
    <div class="toast" id="toast"></div>

    <!-- Data + App Logic -->
    <script src="data.js"></script>
    <script src="app.js"></script>
  </body>
</html>
